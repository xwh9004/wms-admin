<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wms.admin.mapper.LesseeInfoMapper">

    <resultMap id="detailMap" type="com.wms.admin.vo.LesseeInfoVO">
        <id column="id" property="id"/>
        <result column="lessee_no" property="lesseeNo"/>
        <result column="lessee_company" property="lesseeCompany"/>
        <result column="contact" property="contact"/>
        <result column="phone" property="phone"/>
        <collection property="list">
            <id column="a_id" property="id"/>
            <result column="company_address" property="address"/>
            <result column="contact" property="contact"/>
            <result column="phone" property="phone"/>
        </collection>
    </resultMap>

    <select id="lesseeDetail" resultMap="detailMap">
        select l.id,l.lessee_no,l.lessee_company,l.contact,l.phone,
        a.id a_id,a.lessee_id,a.company_address ,a.contact,a.phone,a.is_default
        from t_wms_lessee_info l
        left join t_wms_lessee_address a on l.id = a.lessee_id and a.del_flag ='1'
        where l.del_flag ='1'
        and l.id = #{id}
    </select>

</mapper>
